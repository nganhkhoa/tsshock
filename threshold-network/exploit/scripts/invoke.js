const hre = require("hardhat");
const fs = require('fs');
function delay(time) {
    return new Promise(resolve => setTimeout(resolve, time));
  } 

async function main() {
  console.log("#################################\n");
  console.log("Request new wallet\n")
  console.log("#################################\n");
  
    const mainAddress = fs.readFileSync("/tmp/main.txt", 'utf8');
    const main = await hre.ethers.getContractAt("Main", mainAddress);
    await (await main.invokeWallet()).wait();
    await delay(5000); // next block
    await (await main.invokeRelay()).wait();
    

}

// We recommend this pattern to be able to use async/await everywhere
// and properly handle errors.
main().catch((error) => {
console.error(error);
process.exitCode = 1;
});